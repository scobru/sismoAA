{
  "address": "0x24E7646620b95994f05A9fCbdA361b88a2591eB8",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_verifierContract",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "sismoConnectResponse",
          "type": "bytes"
        },
        {
          "internalType": "bytes16",
          "name": "appId",
          "type": "bytes16"
        }
      ],
      "name": "getPassKey",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "encryptedVaultId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes16",
          "name": "appId",
          "type": "bytes16"
        }
      ],
      "name": "getWalletInfo",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "encryptedVaultId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes16",
          "name": "appId",
          "type": "bytes16"
        },
        {
          "internalType": "bytes",
          "name": "walletInfo",
          "type": "bytes"
        }
      ],
      "name": "setWalletInfo",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "verifierContract",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x79d2465f6aa38a788bea92f2660858c3f85fff993b7845ae182005fcdd82e7b8",
  "receipt": {
    "to": null,
    "from": "0x8aA5F726d9F868a21a8bd748E2f1E43bA31eb670",
    "contractAddress": "0x24E7646620b95994f05A9fCbdA361b88a2591eB8",
    "transactionIndex": 4,
    "gasUsed": "460932",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x7a3f74cda6e5800e9a2d803d629ca05f3cad32894f9eda2017dce6bf74cfcfbf",
    "transactionHash": "0x79d2465f6aa38a788bea92f2660858c3f85fff993b7845ae182005fcdd82e7b8",
    "logs": [],
    "blockNumber": 10977925,
    "cumulativeGasUsed": "587885",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x96070AC8f59b4dEBCDBa83dBb09f84E5D70726B2"
  ],
  "numDeployments": 57,
  "solcInputHash": "b1af03dfbf4dc4ed9a54aa93ad60178f",
  "metadata": "{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_verifierContract\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"sismoConnectResponse\",\"type\":\"bytes\"},{\"internalType\":\"bytes16\",\"name\":\"appId\",\"type\":\"bytes16\"}],\"name\":\"getPassKey\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"encryptedVaultId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes16\",\"name\":\"appId\",\"type\":\"bytes16\"}],\"name\":\"getWalletInfo\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"encryptedVaultId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes16\",\"name\":\"appId\",\"type\":\"bytes16\"},{\"internalType\":\"bytes\",\"name\":\"walletInfo\",\"type\":\"bytes\"}],\"name\":\"setWalletInfo\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"verifierContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/SismoPKP.sol\":\"SismoPKP\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/SismoPKP.sol\":{\"content\":\"/* \\r\\n   _____   _____    _____   __  __    ____             _____    _  __  _____  \\r\\n  / ____| |_   _|  / ____| |  \\\\/  |  / __ \\\\           |  __ \\\\  | |/ / |  __ \\\\ \\r\\n | (___     | |   | (___   | \\\\  / | | |  | |  ______  | |__) | | ' /  | |__) |\\r\\n  \\\\___ \\\\    | |    \\\\___ \\\\  | |\\\\/| | | |  | | |______| |  ___/  |  <   |  ___/ \\r\\n  ____) |  _| |_   ____) | | |  | | | |__| |          | |      | . \\\\  | |     \\r\\n |_____/  |_____| |_____/  |_|  |_|  \\\\____/           |_|      |_|\\\\_\\\\ |_|     \\r\\n\\r\\n*/\\r\\n\\r\\n// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\ninterface ISismoVerifier {\\r\\n    function sismoVerify(\\r\\n        bytes memory sismoConnectResponse,\\r\\n        bytes16 appId,\\r\\n        address to\\r\\n    ) external view returns (uint256, uint256, bytes memory);\\r\\n}\\r\\n\\r\\ncontract SismoPKP {\\r\\n    mapping(bytes16 => mapping(bytes32 => bytes)) private vaults;\\r\\n\\r\\n    address public verifierContract;\\r\\n\\r\\n    constructor(address _verifierContract) {\\r\\n        verifierContract = _verifierContract;\\r\\n    }\\r\\n\\r\\n    function getPassKey(\\r\\n        bytes memory sismoConnectResponse,\\r\\n        bytes16 appId\\r\\n    ) external view returns (bytes32) {\\r\\n        (\\r\\n            uint256 vaultId,\\r\\n            uint256 twitterId,\\r\\n            bytes memory signedMessage\\r\\n        ) = ISismoVerifier(verifierContract).sismoVerify(\\r\\n                sismoConnectResponse,\\r\\n                appId,\\r\\n                address(msg.sender)\\r\\n            );\\r\\n\\r\\n        address _guardian = abi.decode(signedMessage, (address));\\r\\n        require(msg.sender == _guardian, \\\"WRONG_GUARDIAN\\\"); // Guardian check\\r\\n\\r\\n        // ABI encode the four hashed fields together and then hash to create the master key\\r\\n        bytes32 masterKey = keccak256(\\r\\n            abi.encode(\\r\\n                keccak256(abi.encode(vaultId)),\\r\\n                keccak256(abi.encode(twitterId)),\\r\\n                keccak256(abi.encode(_guardian))\\r\\n            )\\r\\n        );\\r\\n\\r\\n        return masterKey;\\r\\n    }\\r\\n\\r\\n    function setWalletInfo(\\r\\n        bytes32 encryptedVaultId,\\r\\n        bytes16 appId,\\r\\n        bytes memory walletInfo\\r\\n    ) external {\\r\\n        require(\\r\\n            vaults[appId][encryptedVaultId].length == 0,\\r\\n            \\\"Wallet info already exists\\\"\\r\\n        );\\r\\n\\r\\n        vaults[appId][encryptedVaultId] = walletInfo;\\r\\n    }\\r\\n\\r\\n    function getWalletInfo(\\r\\n        bytes32 encryptedVaultId,\\r\\n        bytes16 appId\\r\\n    ) external view returns (bytes memory) {\\r\\n        return vaults[appId][encryptedVaultId];\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x95e5310f8fe322d691d42f9b431e929319724245a73c6dfff71f30def056eebd\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60803461007457601f61077d38819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600180546001600160a01b0319169190911790556040516106ed90816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe608060409080825260048036101561001657600080fd5b600091823560e01c9081638001e56c1461047057508063844d35ff1461024f578063cf695688146102265763ecccde481461005057600080fd5b346102225760603660031901126102225780359261006c610562565b9367ffffffffffffffff9160443583811161021e5761008e9036908601610636565b956001600160801b0319169182865260209286845282872082885284526100b78388205461067d565b6101db578652858352818620908652825284209285519283116101c857506100df835461067d565b601f8111610185575b5080601f83116001146101235750839482939492610118575b50508160011b916000199060031b1c191617905580f35b015190503880610101565b90601f198316958486528286209286905b88821061016d57505083600195969710610154575b505050811b01905580f35b015160001960f88460031b161c19169055388080610149565b80600185968294968601518155019501930190610134565b838552818520601f840160051c8101918385106101be575b601f0160051c01905b8181106101b357506100e8565b8581556001016101a6565b909150819061019d565b634e487b7160e01b855260419052602484fd5b825162461bcd60e51b8152808701859052601a60248201527f57616c6c657420696e666f20616c7265616479206578697374730000000000006044820152606490fd5b8580fd5b5080fd5b82843461022257816003193601126102225760015490516001600160a01b039091168152602090f35b5091903461046d578160031936011261046d5767ffffffffffffffff9183358381116103d357906102876102c4939236908701610636565b9180610291610562565b600154845163dff3781960e01b81526060818b0152966001600160a01b03968893928816928492839260648401906105a1565b906001600160801b031916602483015233604483015203915afa9586156104615781829583986103db575b5060209788818051810103126103d7578801519485168095036103d35784330361039f578351888101918252888152610327816105c6565b51902094835188810191825288815261033f816105c6565b519020938351888101918252888152610357816105c6565b5190208351948886019687528486015260608501526060845260808401958487109087111761038c5750508390525190208152f35b634e487b7160e01b825260419052602490fd5b835162461bcd60e51b8152808301899052600e60248201526d2ba927a723afa3aaa0a92224a0a760911b6044820152606490fd5b8280fd5b8380fd5b97505093503d8082883e6103ef81886105f8565b860193606087860312610222578651602088015197848101519088821161045d570186601f820112156103d7578051906104288261061a565b976104358751998a6105f8565b8289526020838301011161045d5790610454916020808a01910161057e565b969496386102ef565b8480fd5b509051903d90823e3d90fd5b80fd5b8285853461046d578160031936011261046d5783906001600160801b0319610496610562565b1681526020818152838220943582529384528281208054826104b78261067d565b928386526001928884821691826000146105385750506001146104fa575b85886104f6896104e7848a03856105f8565b519282849384528301906105a1565b0390f35b87945081939291528383205b82841061052057505050820101816104e76104f6886104d5565b8054848a018601528895508794909301928101610506565b60ff19168882015294151560051b870190940194508593506104e792506104f691508990506104d5565b602435906001600160801b03198216820361057957565b600080fd5b60005b8381106105915750506000910152565b8181015183820152602001610581565b906020916105ba8151809281855285808601910161057e565b601f01601f1916010190565b6040810190811067ffffffffffffffff8211176105e257604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176105e257604052565b67ffffffffffffffff81116105e257601f01601f191660200190565b81601f820112156105795780359061064d8261061a565b9261065b60405194856105f8565b8284526020838301011161057957816000926020809301838601378301015290565b90600182811c921680156106ad575b602083101461069757565b634e487b7160e01b600052602260045260246000fd5b91607f169161068c56fea26469706673582212208794b89723afb48c1643629595379cd534239f5431f82820e05e5ff21d69523964736f6c63430008130033",
  "deployedBytecode": "0x608060409080825260048036101561001657600080fd5b600091823560e01c9081638001e56c1461047057508063844d35ff1461024f578063cf695688146102265763ecccde481461005057600080fd5b346102225760603660031901126102225780359261006c610562565b9367ffffffffffffffff9160443583811161021e5761008e9036908601610636565b956001600160801b0319169182865260209286845282872082885284526100b78388205461067d565b6101db578652858352818620908652825284209285519283116101c857506100df835461067d565b601f8111610185575b5080601f83116001146101235750839482939492610118575b50508160011b916000199060031b1c191617905580f35b015190503880610101565b90601f198316958486528286209286905b88821061016d57505083600195969710610154575b505050811b01905580f35b015160001960f88460031b161c19169055388080610149565b80600185968294968601518155019501930190610134565b838552818520601f840160051c8101918385106101be575b601f0160051c01905b8181106101b357506100e8565b8581556001016101a6565b909150819061019d565b634e487b7160e01b855260419052602484fd5b825162461bcd60e51b8152808701859052601a60248201527f57616c6c657420696e666f20616c7265616479206578697374730000000000006044820152606490fd5b8580fd5b5080fd5b82843461022257816003193601126102225760015490516001600160a01b039091168152602090f35b5091903461046d578160031936011261046d5767ffffffffffffffff9183358381116103d357906102876102c4939236908701610636565b9180610291610562565b600154845163dff3781960e01b81526060818b0152966001600160a01b03968893928816928492839260648401906105a1565b906001600160801b031916602483015233604483015203915afa9586156104615781829583986103db575b5060209788818051810103126103d7578801519485168095036103d35784330361039f578351888101918252888152610327816105c6565b51902094835188810191825288815261033f816105c6565b519020938351888101918252888152610357816105c6565b5190208351948886019687528486015260608501526060845260808401958487109087111761038c5750508390525190208152f35b634e487b7160e01b825260419052602490fd5b835162461bcd60e51b8152808301899052600e60248201526d2ba927a723afa3aaa0a92224a0a760911b6044820152606490fd5b8280fd5b8380fd5b97505093503d8082883e6103ef81886105f8565b860193606087860312610222578651602088015197848101519088821161045d570186601f820112156103d7578051906104288261061a565b976104358751998a6105f8565b8289526020838301011161045d5790610454916020808a01910161057e565b969496386102ef565b8480fd5b509051903d90823e3d90fd5b80fd5b8285853461046d578160031936011261046d5783906001600160801b0319610496610562565b1681526020818152838220943582529384528281208054826104b78261067d565b928386526001928884821691826000146105385750506001146104fa575b85886104f6896104e7848a03856105f8565b519282849384528301906105a1565b0390f35b87945081939291528383205b82841061052057505050820101816104e76104f6886104d5565b8054848a018601528895508794909301928101610506565b60ff19168882015294151560051b870190940194508593506104e792506104f691508990506104d5565b602435906001600160801b03198216820361057957565b600080fd5b60005b8381106105915750506000910152565b8181015183820152602001610581565b906020916105ba8151809281855285808601910161057e565b601f01601f1916010190565b6040810190811067ffffffffffffffff8211176105e257604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176105e257604052565b67ffffffffffffffff81116105e257601f01601f191660200190565b81601f820112156105795780359061064d8261061a565b9261065b60405194856105f8565b8284526020838301011161057957816000926020809301838601378301015290565b90600182811c921680156106ad575b602083101461069757565b634e487b7160e01b600052602260045260246000fd5b91607f169161068c56fea26469706673582212208794b89723afb48c1643629595379cd534239f5431f82820e05e5ff21d69523964736f6c63430008130033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 23,
        "contract": "contracts/SismoPKP.sol:SismoPKP",
        "label": "vaults",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_bytes16,t_mapping(t_bytes32,t_bytes_storage))"
      },
      {
        "astId": 25,
        "contract": "contracts/SismoPKP.sol:SismoPKP",
        "label": "verifierContract",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bytes16": {
        "encoding": "inplace",
        "label": "bytes16",
        "numberOfBytes": "16"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_bytes_storage": {
        "encoding": "bytes",
        "label": "bytes",
        "numberOfBytes": "32"
      },
      "t_mapping(t_bytes16,t_mapping(t_bytes32,t_bytes_storage))": {
        "encoding": "mapping",
        "key": "t_bytes16",
        "label": "mapping(bytes16 => mapping(bytes32 => bytes))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_bytes32,t_bytes_storage)"
      },
      "t_mapping(t_bytes32,t_bytes_storage)": {
        "encoding": "mapping",
        "key": "t_bytes32",
        "label": "mapping(bytes32 => bytes)",
        "numberOfBytes": "32",
        "value": "t_bytes_storage"
      }
    }
  }
}