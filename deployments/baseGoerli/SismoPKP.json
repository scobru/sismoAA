{
  "address": "0xa26d3C71f7df4A45c0206BADB18409E2f8656F10",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_verifierContract",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "sismoConnectResponse",
          "type": "bytes"
        },
        {
          "internalType": "bytes16",
          "name": "appId",
          "type": "bytes16"
        }
      ],
      "name": "getPassKey",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "encryptedVaultId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes16",
          "name": "appId",
          "type": "bytes16"
        }
      ],
      "name": "getWalletInfo",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "encryptedVaultId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes16",
          "name": "appId",
          "type": "bytes16"
        },
        {
          "internalType": "bytes",
          "name": "walletInfo",
          "type": "bytes"
        }
      ],
      "name": "setWalletInfo",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "verifierContract",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x19b77a11826be6acaa9f58271066706c3e4754626196806d2d6d6826274d1b65",
  "receipt": {
    "to": null,
    "from": "0x8aA5F726d9F868a21a8bd748E2f1E43bA31eb670",
    "contractAddress": "0xa26d3C71f7df4A45c0206BADB18409E2f8656F10",
    "transactionIndex": 1,
    "gasUsed": "416236",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xb5a0a96a36eca7998e2992068ed7b86cff525686205ac2f00a2bd294c2d51f21",
    "transactionHash": "0x19b77a11826be6acaa9f58271066706c3e4754626196806d2d6d6826274d1b65",
    "logs": [],
    "blockNumber": 10975272,
    "cumulativeGasUsed": "463089",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x96070AC8f59b4dEBCDBa83dBb09f84E5D70726B2"
  ],
  "numDeployments": 53,
  "solcInputHash": "bb7c55d193643ce2a64c348deab2135d",
  "metadata": "{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_verifierContract\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"sismoConnectResponse\",\"type\":\"bytes\"},{\"internalType\":\"bytes16\",\"name\":\"appId\",\"type\":\"bytes16\"}],\"name\":\"getPassKey\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"encryptedVaultId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes16\",\"name\":\"appId\",\"type\":\"bytes16\"}],\"name\":\"getWalletInfo\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"encryptedVaultId\",\"type\":\"bytes32\"},{\"internalType\":\"bytes16\",\"name\":\"appId\",\"type\":\"bytes16\"},{\"internalType\":\"bytes\",\"name\":\"walletInfo\",\"type\":\"bytes\"}],\"name\":\"setWalletInfo\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"verifierContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/SismoPKP.sol\":\"SismoPKP\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/SismoPKP.sol\":{\"content\":\"/* \\r\\n   _____   _____    _____   __  __    ____             _____    _  __  _____  \\r\\n  / ____| |_   _|  / ____| |  \\\\/  |  / __ \\\\           |  __ \\\\  | |/ / |  __ \\\\ \\r\\n | (___     | |   | (___   | \\\\  / | | |  | |  ______  | |__) | | ' /  | |__) |\\r\\n  \\\\___ \\\\    | |    \\\\___ \\\\  | |\\\\/| | | |  | | |______| |  ___/  |  <   |  ___/ \\r\\n  ____) |  _| |_   ____) | | |  | | | |__| |          | |      | . \\\\  | |     \\r\\n |_____/  |_____| |_____/  |_|  |_|  \\\\____/           |_|      |_|\\\\_\\\\ |_|     \\r\\n\\r\\n*/\\r\\n\\r\\n// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\ninterface ISismoVerifier {\\r\\n    function sismoVerify(\\r\\n        bytes memory sismoConnectResponse,\\r\\n        bytes16 appId,\\r\\n        address to\\r\\n    ) external view returns (uint256, uint256, bytes memory);\\r\\n}\\r\\n\\r\\ncontract SismoPKP {\\r\\n    mapping(bytes16 => mapping(bytes32 => bytes)) private vaults;\\r\\n\\r\\n    address public verifierContract;\\r\\n\\r\\n    constructor(address _verifierContract) {\\r\\n        verifierContract = _verifierContract;\\r\\n    }\\r\\n\\r\\n    function getPassKey(\\r\\n        bytes memory sismoConnectResponse,\\r\\n        bytes16 appId\\r\\n    ) external view returns (bytes32) {\\r\\n        (\\r\\n            uint256 vaultId,\\r\\n            uint256 twitterId,\\r\\n            bytes memory signedMessage\\r\\n        ) = ISismoVerifier(verifierContract).sismoVerify(\\r\\n                sismoConnectResponse,\\r\\n                appId,\\r\\n                address(msg.sender)\\r\\n            );\\r\\n\\r\\n        address _guardian = abi.decode(signedMessage, (address));\\r\\n        require(msg.sender == _guardian, \\\"WRONG_GUARDIAN\\\"); // Guardian check\\r\\n\\r\\n        // ABI encode the four hashed fields together and then hash to create the master key\\r\\n        bytes32 masterKey = keccak256(\\r\\n            abi.encode(\\r\\n                /*  keccak256(abi.encode(vaultId)),\\r\\n                keccak256(abi.encode(twitterId)), */\\r\\n                keccak256(abi.encode(_guardian))\\r\\n            )\\r\\n        );\\r\\n\\r\\n        return masterKey;\\r\\n    }\\r\\n\\r\\n    function setWalletInfo(\\r\\n        bytes32 encryptedVaultId,\\r\\n        bytes16 appId,\\r\\n        bytes memory walletInfo\\r\\n    ) external {\\r\\n        /* require(\\r\\n            vaults[appId][encryptedVaultId].length == 0,\\r\\n            \\\"Wallet info already exists\\\"\\r\\n        ); */\\r\\n\\r\\n        vaults[appId][encryptedVaultId] = walletInfo;\\r\\n    }\\r\\n\\r\\n    function getWalletInfo(\\r\\n        bytes32 encryptedVaultId,\\r\\n        bytes16 appId\\r\\n    ) external view returns (bytes memory) {\\r\\n        return vaults[appId][encryptedVaultId];\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0xb638f2e2f19af40fd8a371148ca4e64d802da2bb5dca07d6f5aad3770a97fde4\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60803461007457601f6106ae38819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600180546001600160a01b03191691909117905560405161061e90816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe608060409080825260048036101561001657600080fd5b600091823560e01c9081638001e56c146103a157508063844d35ff146101eb578063cf695688146101c25763ecccde481461005057600080fd5b346101be5760603660031901126101be57610069610493565b9267ffffffffffffffff906044358281116101ba5761008b9036908501610567565b946001600160801b031916845260209084825280852084358652825284209285519283116101a757506100be83546105ae565b601f8111610164575b5080601f831160011461010257508394829394926100f7575b50508160011b916000199060031b1c191617905580f35b0151905038806100e0565b90601f198316958486528286209286905b88821061014c57505083600195969710610133575b505050811b01905580f35b015160001960f88460031b161c19169055388080610128565b80600185968294968601518155019501930190610113565b838552818520601f840160051c81019183851061019d575b601f0160051c01905b81811061019257506100c7565b858155600101610185565b909150819061017c565b634e487b7160e01b855260419052602484fd5b8480fd5b5080fd5b8284346101be57816003193601126101be5760015490516001600160a01b039091168152602090f35b5091903461031357816003193601126103135767ffffffffffffffff92803584811161039d5761021e9036908301610567565b91610227610493565b8161025b60018060a01b0395866001541690885180958194829363dff3781960e01b845260608b85015260648401906104d2565b906001600160801b031916602483015233604483015203915afa958615610393578296610316575b505060209485818051810103126101be5785015192831680930361031357508133036102df575081518381019182528381526102be816104f7565b51902081518381019182528381526102d5816104f7565b5190209051908152f35b825162461bcd60e51b8152908101849052600e60248201526d2ba927a723afa3aaa0a92224a0a760911b6044820152606490fd5b80fd5b909195503d8087843e6103298184610529565b82019160608184031261038b578581015191821161038b570181601f8201121561038f5780516103588161054b565b9261036587519485610529565b8184526020828401011161038b5761038391602080850191016104af565b933880610283565b8680fd5b8580fd5b85513d84823e3d90fd5b8280fd5b8285853461031357816003193601126103135783906001600160801b03196103c7610493565b1681526020818152838220943582529384528281208054826103e8826105ae565b9283865260019288848216918260001461046957505060011461042b575b858861042789610418848a0385610529565b519282849384528301906104d2565b0390f35b87945081939291528383205b828410610451575050508201018161041861042788610406565b8054848a018601528895508794909301928101610437565b60ff19168882015294151560051b8701909401945085935061041892506104279150899050610406565b602435906001600160801b0319821682036104aa57565b600080fd5b60005b8381106104c25750506000910152565b81810151838201526020016104b2565b906020916104eb815180928185528580860191016104af565b601f01601f1916010190565b6040810190811067ffffffffffffffff82111761051357604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff82111761051357604052565b67ffffffffffffffff811161051357601f01601f191660200190565b81601f820112156104aa5780359061057e8261054b565b9261058c6040519485610529565b828452602083830101116104aa57816000926020809301838601378301015290565b90600182811c921680156105de575b60208310146105c857565b634e487b7160e01b600052602260045260246000fd5b91607f16916105bd56fea2646970667358221220d1f830624ea15c01e0485193673fcb9390bc20a247b581c94fec39a9651926ed64736f6c63430008130033",
  "deployedBytecode": "0x608060409080825260048036101561001657600080fd5b600091823560e01c9081638001e56c146103a157508063844d35ff146101eb578063cf695688146101c25763ecccde481461005057600080fd5b346101be5760603660031901126101be57610069610493565b9267ffffffffffffffff906044358281116101ba5761008b9036908501610567565b946001600160801b031916845260209084825280852084358652825284209285519283116101a757506100be83546105ae565b601f8111610164575b5080601f831160011461010257508394829394926100f7575b50508160011b916000199060031b1c191617905580f35b0151905038806100e0565b90601f198316958486528286209286905b88821061014c57505083600195969710610133575b505050811b01905580f35b015160001960f88460031b161c19169055388080610128565b80600185968294968601518155019501930190610113565b838552818520601f840160051c81019183851061019d575b601f0160051c01905b81811061019257506100c7565b858155600101610185565b909150819061017c565b634e487b7160e01b855260419052602484fd5b8480fd5b5080fd5b8284346101be57816003193601126101be5760015490516001600160a01b039091168152602090f35b5091903461031357816003193601126103135767ffffffffffffffff92803584811161039d5761021e9036908301610567565b91610227610493565b8161025b60018060a01b0395866001541690885180958194829363dff3781960e01b845260608b85015260648401906104d2565b906001600160801b031916602483015233604483015203915afa958615610393578296610316575b505060209485818051810103126101be5785015192831680930361031357508133036102df575081518381019182528381526102be816104f7565b51902081518381019182528381526102d5816104f7565b5190209051908152f35b825162461bcd60e51b8152908101849052600e60248201526d2ba927a723afa3aaa0a92224a0a760911b6044820152606490fd5b80fd5b909195503d8087843e6103298184610529565b82019160608184031261038b578581015191821161038b570181601f8201121561038f5780516103588161054b565b9261036587519485610529565b8184526020828401011161038b5761038391602080850191016104af565b933880610283565b8680fd5b8580fd5b85513d84823e3d90fd5b8280fd5b8285853461031357816003193601126103135783906001600160801b03196103c7610493565b1681526020818152838220943582529384528281208054826103e8826105ae565b9283865260019288848216918260001461046957505060011461042b575b858861042789610418848a0385610529565b519282849384528301906104d2565b0390f35b87945081939291528383205b828410610451575050508201018161041861042788610406565b8054848a018601528895508794909301928101610437565b60ff19168882015294151560051b8701909401945085935061041892506104279150899050610406565b602435906001600160801b0319821682036104aa57565b600080fd5b60005b8381106104c25750506000910152565b81810151838201526020016104b2565b906020916104eb815180928185528580860191016104af565b601f01601f1916010190565b6040810190811067ffffffffffffffff82111761051357604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff82111761051357604052565b67ffffffffffffffff811161051357601f01601f191660200190565b81601f820112156104aa5780359061057e8261054b565b9261058c6040519485610529565b828452602083830101116104aa57816000926020809301838601378301015290565b90600182811c921680156105de575b60208310146105c857565b634e487b7160e01b600052602260045260246000fd5b91607f16916105bd56fea2646970667358221220d1f830624ea15c01e0485193673fcb9390bc20a247b581c94fec39a9651926ed64736f6c63430008130033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 23,
        "contract": "contracts/SismoPKP.sol:SismoPKP",
        "label": "vaults",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_bytes16,t_mapping(t_bytes32,t_bytes_storage))"
      },
      {
        "astId": 25,
        "contract": "contracts/SismoPKP.sol:SismoPKP",
        "label": "verifierContract",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bytes16": {
        "encoding": "inplace",
        "label": "bytes16",
        "numberOfBytes": "16"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_bytes_storage": {
        "encoding": "bytes",
        "label": "bytes",
        "numberOfBytes": "32"
      },
      "t_mapping(t_bytes16,t_mapping(t_bytes32,t_bytes_storage))": {
        "encoding": "mapping",
        "key": "t_bytes16",
        "label": "mapping(bytes16 => mapping(bytes32 => bytes))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_bytes32,t_bytes_storage)"
      },
      "t_mapping(t_bytes32,t_bytes_storage)": {
        "encoding": "mapping",
        "key": "t_bytes32",
        "label": "mapping(bytes32 => bytes)",
        "numberOfBytes": "32",
        "value": "t_bytes_storage"
      }
    }
  }
}